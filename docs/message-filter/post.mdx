---
sidebar_position: 1
---

# Đăng tin nhắn lên mạng
```javascript
web3.shh.post(object [, callback])
```
TPhương pháp của anh ấy nên được gọi, khi chúng tôi muốn đăng thông điệp thì thầm lên mạng.
### Thông số
1. `Object` - Đối tượng bài:
+ `symKeyID` - `String` (optional): ID của khóa đối xứng để mã hóa tin nhắn (phải có SymkeyId hoặc PubKey. Không thể có cả hai.).
+ `pubKey` - `String` (optional): Chìa khóa công khai để mã hóa tin nhắn (phải có Symkeyid hoặc PubKey. Không thể có cả hai.).
+ `sig` - `String` (optional): ID của khóa ký kết.
+ `ttl` - `Number`: Thời gian sống trong vài giây.
+ `topic` - `String`: 4 byte (bắt buộc khi khóa là đối xứng): Chủ đề tin nhắn.
+ `payload` - `String`: Tải trọng của thông báo sẽ được mã hóa.
+ `padding` - `Number` (optional): Đệm (mảng byte có độ dài tùy ý).
+ `powTime` - `Number` (optional)?: Thời gian tối đa trong vài giây để được sử dụng cho bằng chứng công việc.
+ `powTarget` - `Number` (optional)?: Minimal PoW target required for this message.
+ `targetPeer` - `Number` (optional):ID ngang hàng (chỉ dành cho tin nhắn ngang hàng).
2. `callback` - `Function`: (optional) Callback tùy chọn, trả về một đối tượng lỗi làm tham số đầu tiên và kết quả là thứ hai.
### Trả lại
`Promise` - trả lại một lời hứa.Sau khi thành công, hàm `sau đó` sẽ được truyền một chuỗi đại diện cho băm của tin nhắn đã gửi.Theo lỗi, hàm `bắt` sẽ được truyền một chuỗi chứa lý do cho lỗi.
### Ví dụ
```javascript
var identities = {};
var subscription = null;

Promise.all([
web3.shh.newSymKey().then((id) => {identities.symKey = id;}),
web3.shh.newKeyPair().then((id) => {identities.keyPair = id;})

]).then(() => {

    // will receive also its own message send, below
    subscription = web3.shh.subscribe("messages", {
        symKeyID: identities.symKey,
        topics: ['0xffaadd11']
    }).on('data', console.log);

}).then(() => {
web3.shh.post({
symKeyID: identities.symKey, // encrypts using the sym key ID
sig: identities.keyPair, // signs the message using the keyPair ID
ttl: 10,
topic: '0xffaadd11',
payload: '0xffffffdddddd1122',
powTime: 3,
powTarget: 0.5
}).then(h => console.log(`Message with hash ${h} was successfuly sent`))
.catch(err => console.log("Error: ", err));
});
```
### Thử nghiệm